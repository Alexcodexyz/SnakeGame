<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é”®ç›˜æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }
        .key-display {
            font-size: 24px;
            font-weight: bold;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 5px;
            text-align: center;
            margin: 20px 0;
            min-height: 60px;
        }
        .key-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 20px 0;
        }
        .info-item {
            background: #e9ecef;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }
        .info-label {
            font-weight: bold;
            color: #495057;
        }
        .info-value {
            color: #007bff;
            font-size: 18px;
            margin-top: 5px;
        }
        .instructions {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .test-status {
            text-align: center;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            font-weight: bold;
        }
        .test-pass {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .test-fail {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>é”®ç›˜æ–¹å‘é”®æµ‹è¯•</h1>
        
        <div class="instructions">
            <strong>ä½¿ç”¨è¯´æ˜:</strong> æŒ‰ä¸‹é”®ç›˜ä¸Šçš„ä»»æ„æ–¹å‘é”®ï¼ˆâ†‘â†“â†â†’ï¼‰æ¥æµ‹è¯•æŒ‰é”®æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚
        </div>
        
        <div class="key-display" id="keyDisplay">
            è¯·æŒ‰ä»»æ„æ–¹å‘é”®...
        </div>
        
        <div class="key-info">
            <div class="info-item">
                <div class="info-label">æŒ‰é”®ç </div>
                <div class="info-value" id="keyCode">-</div>
            </div>
            <div class="info-item">
                <div class="info-label">æŒ‰é”®åç§°</div>
                <div class="info-value" id="keyName">-</div>
            </div>
        </div>
        
        <div class="test-status" id="testStatus">
            ç­‰å¾…æŒ‰é”®æµ‹è¯•...
        </div>
        
        <h3>æ–¹å‘é”®å¯¹ç…§è¡¨:</h3>
        <ul>
            <li>â†‘ ä¸Šæ–¹å‘é”®: keyCode = 38</li>
            <li>â†“ ä¸‹æ–¹å‘é”®: keyCode = 40</li>
            <li>â† å·¦æ–¹å‘é”®: keyCode = 37</li>
            <li>â†’ å³æ–¹å‘é”®: keyCode = 39</li>
        </ul>
        
        <h3>æµ‹è¯•ç»“æœ:</h3>
        <div id="testResults"></div>
    </div>

    <script>
        const keyDisplay = document.getElementById('keyDisplay');
        const keyCodeDisplay = document.getElementById('keyCode');
        const keyNameDisplay = document.getElementById('keyName');
        const testStatus = document.getElementById('testStatus');
        const testResults = document.getElementById('testResults');
        
        const arrowKeys = {
            37: { name: 'â† å·¦æ–¹å‘é”®', symbol: 'â†' },
            38: { name: 'â†‘ ä¸Šæ–¹å‘é”®', symbol: 'â†‘' },
            39: { name: 'â†’ å³æ–¹å‘é”®', symbol: 'â†’' },
            40: { name: 'â†“ ä¸‹æ–¹å‘é”®', symbol: 'â†“' }
        };
        
        const testResultsData = {
            37: false, // å·¦
            38: false, // ä¸Š
            39: false, // å³
            40: false  // ä¸‹
        };
        
        let testStartTime = Date.now();
        
        function updateDisplay(keyCode, keyName, symbol) {
            keyDisplay.innerHTML = `<div style="font-size: 48px;">${symbol}</div>`;
            keyCodeDisplay.textContent = keyCode;
            keyNameDisplay.textContent = keyName;
            testStatus.textContent = 'æŒ‰é”®æ£€æµ‹æ­£å¸¸ï¼';
            testStatus.className = 'test-status test-pass';
        }
        
        function updateResults() {
            const results = Object.keys(testResultsData).map(keyCode => {
                const code = parseInt(keyCode);
                const keyInfo = arrowKeys[code];
                const status = testResultsData[code] ? 'âœ… æ­£å¸¸' : 'âŒ æœªæµ‹è¯•';
                return `<div>${keyInfo.symbol} ${keyInfo.name}: ${status}</div>`;
            }).join('');
            
            testResults.innerHTML = results;
            
            // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰æŒ‰é”®éƒ½å·²æµ‹è¯•
            const allTested = Object.values(testResultsData).every(result => result === true);
            if (allTested) {
                testStatus.textContent = 'ğŸ‰ æ‰€æœ‰æ–¹å‘é”®æµ‹è¯•é€šè¿‡ï¼';
                testStatus.className = 'test-status test-pass';
                const elapsedTime = ((Date.now() - testStartTime) / 1000).toFixed(1);
                testResults.innerHTML += `<div style="margin-top: 15px; font-weight: bold; color: #28a745;">æµ‹è¯•å®Œæˆï¼ç”¨æ—¶: ${elapsedTime}ç§’</div>`;
            }
        }
        
        document.addEventListener('keydown', function(event) {
            const keyCode = event.keyCode;
            
            // åªå¤„ç†æ–¹å‘é”®
            if (arrowKeys[keyCode]) {
                event.preventDefault(); // é˜²æ­¢é¡µé¢æ»šåŠ¨
                
                const keyInfo = arrowKeys[keyCode];
                updateDisplay(keyCode, keyInfo.name, keyInfo.symbol);
                
                // æ ‡è®°ä¸ºå·²æµ‹è¯•
                testResultsData[keyCode] = true;
                updateResults();
                
                // æ’­æ”¾æŒ‰é”®éŸ³æ•ˆï¼ˆå¦‚æœæ”¯æŒï¼‰
                try {
                    const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmFgU7k9n1unEiBC13yO/eizEIHWq+8+OWT');
                    audio.volume = 0.3;
                    audio.play().catch(() => {});
                } catch (e) {
                    // å¿½ç•¥éŸ³é¢‘é”™è¯¯
                }
            }
        });
        
        // åˆå§‹åŒ–æ˜¾ç¤º
        updateResults();
        
        // 5ç§’åæé†’ç”¨æˆ·å¼€å§‹æµ‹è¯•
        setTimeout(() => {
            if (!Object.values(testResultsData).some(result => result === true)) {
                testStatus.textContent = 'â° è¯·æŒ‰ä¸‹æ–¹å‘é”®å¼€å§‹æµ‹è¯•...';
                testStatus.className = 'test-status';
            }
        }, 5000);
    </script>
</body>
</html>